<!DOCTYPE html>
<html lang="en" style="height:100%;width:100%;">
<head>
    <meta charset="UTF-8">
    <title>Linux实践教学平台教师端</title>
    <link rel="stylesheet" href="css/style.css"/>
    <script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="index.js"></script>
</head>
<body onload="requestTable()" style="height:100%">
<div id="layout">
    <header>
        <h1 style="display: inline-block;">Linux教学平台教师端</h1>
        <button class="btn btn-primary form-control" style="float:right;"
                onclick="javascrtpt:window.open('/editor/')">新增题目
        </button>
    </header>
</div>

<hr>
<div id="tb" style="float:left; width:50%;height:100%; overflow-y:scroll;">
    <table id="practice_tb" style="table-layout:fixed;"></table>
    <button id="load_exerc" class="btn btn-primary form-control" style="width:100%;"
            onclick="requestTable()">加载题目
    </button>
</div>
<div id="status" style="float:right; width:50%; height:100%; overflow:hidden;">
    <iframe id="status_iframe" style="float:right; width:100%;height:100%;border:0;"></iframe>
</div>
</body>
</html>
<script type="text/javascript">
    $("#tb").scroll(function(){
        var h = $(this).height();//div可视区域的高度
        var sh = $(this)[0].scrollHeight - 1;//滚动的高度，$(this)指代jQuery对象，而$(this)[0]指代的是dom节点
        var st =$(this)[0].scrollTop;//滚动条的高度，即滚动条的当前位置到div顶部的距离
        if(h+st>=sh){
             requestTable()
        }
    })
</script>